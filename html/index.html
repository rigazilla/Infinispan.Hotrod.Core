<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Infinispan.Hotrod.Core: # Infinispan.Hotrod.Core</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="infinispan_icon_rgb_lightbluewhite_64px.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Infinispan.Hotrod.Core<span id="projectnumber">&#160;0.0.3</span>
   </div>
   <div id="projectbrief">.NET Core client for Infinispan Hotrod Protocol</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title"># <a class="el" href="namespace_infinispan_1_1_hotrod_1_1_core.html">Infinispan.Hotrod.Core</a> </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p >This package allows the user application to perform operation on a remote Infinispan cluster via the Hotrod protocol.</p>
<p >The main use case is the following:</p>
<ol type="1">
<li>import this package in the project description <div class="fragment"><div class="line">&lt;Project Sdk=&quot;Microsoft.NET.Sdk&quot;&gt;</div>
<div class="line"> </div>
<div class="line">  &lt;PropertyGroup&gt;</div>
<div class="line">    &lt;OutputType&gt;Exe&lt;/OutputType&gt;</div>
<div class="line">    &lt;TargetFramework&gt;net5.0&lt;/TargetFramework&gt;</div>
<div class="line">  &lt;/PropertyGroup&gt;</div>
<div class="line"> </div>
<div class="line">  &lt;ItemGroup&gt;</div>
<div class="line">    &lt;PackageReference Include=&quot;Infinispan.Hotrod.Core&quot; Version=&quot;*-*&quot;/&gt;</div>
<div class="line">  &lt;/ItemGroup&gt;</div>
<div class="line"> </div>
<div class="line">&lt;/Project&gt;</div>
</div><!-- fragment --></li>
<li>Create a cluster <div class="fragment"><div class="line">            <a class="code hl_class" href="class_infinispan_1_1_hotrod_1_1_core_1_1_infinispan_d_g.html">InfinispanDG</a> dg = <span class="keyword">new</span> <a class="code hl_class" href="class_infinispan_1_1_hotrod_1_1_core_1_1_infinispan_d_g.html">InfinispanDG</a>();</div>
<div class="line">            <span class="comment">// Use a non-authenticated non-encrypted cluster;</span></div>
<div class="line">            dg.<a class="code hl_function" href="class_infinispan_1_1_hotrod_1_1_core_1_1_infinispan_d_g.html#ae188b34c84c6cff2d4ba6dbbcaf97db1">AddHost</a>(<span class="stringliteral">&quot;127.0.0.1&quot;</span>, 11222);</div>
<div class="ttc" id="aclass_infinispan_1_1_hotrod_1_1_core_1_1_infinispan_d_g_html"><div class="ttname"><a href="class_infinispan_1_1_hotrod_1_1_core_1_1_infinispan_d_g.html">Infinispan.Hotrod.Core.InfinispanDG</a></div><div class="ttdoc">InfinispanDG class describes an Infinispan Cluster and is the main API entry point.</div><div class="ttdef"><b>Definition:</b> InfinispanDG.cs:18</div></div>
<div class="ttc" id="aclass_infinispan_1_1_hotrod_1_1_core_1_1_infinispan_d_g_html_ae188b34c84c6cff2d4ba6dbbcaf97db1"><div class="ttname"><a href="class_infinispan_1_1_hotrod_1_1_core_1_1_infinispan_d_g.html#ae188b34c84c6cff2d4ba6dbbcaf97db1">Infinispan.Hotrod.Core.InfinispanDG.AddHost</a></div><div class="ttdeci">InfinispanHost AddHost(string host, int port=11222)</div><div class="ttdoc">Add a cluster node to the initial list of nodes for the DEFAULT_CLUSTER.</div><div class="ttdef"><b>Definition:</b> InfinispanDG.cs:79</div></div>
</div><!-- fragment --> The <a class="el" href="class_infinispan_1_1_hotrod_1_1_core_1_1_infinispan_d_g.html" title="InfinispanDG class describes an Infinispan Cluster and is the main API entry point.">InfinispanDG</a> class allows several cluster configuration: tls, authentication, nodes address setup, clusters for failover. See below.</li>
<li>Create a cache <div class="fragment"><div class="line">            var cache = dg.NewCache&lt;string, <span class="keywordtype">string</span>&gt;(<span class="keyword">new</span> <a class="code hl_class" href="class_infinispan_1_1_hotrod_1_1_core_1_1_string_marshaller.html">StringMarshaller</a>(), <span class="keyword">new</span> <a class="code hl_class" href="class_infinispan_1_1_hotrod_1_1_core_1_1_string_marshaller.html">StringMarshaller</a>(), <span class="stringliteral">&quot;default&quot;</span>);</div>
<div class="ttc" id="aclass_infinispan_1_1_hotrod_1_1_core_1_1_string_marshaller_html"><div class="ttname"><a href="class_infinispan_1_1_hotrod_1_1_core_1_1_string_marshaller.html">Infinispan.Hotrod.Core.StringMarshaller</a></div><div class="ttdoc">An untility Marshaller that works on strings using ASCII encoding by default</div><div class="ttdef"><b>Definition:</b> Marshaller.cs:27</div></div>
</div><!-- fragment --> <a class="el" href="class_infinispan_1_1_hotrod_1_1_core_1_1_cache.html">Cache</a> is the main object to execute operation on remote cluster. To create a cache object a marshaller for both key and value must be provided. See <a class="el" href="class_infinispan_1_1_hotrod_1_1_core_1_1_marshaller.html" title="Marshaller knows how to convert a type T into byte[] and viceversa.">Marshaller</a>.</li>
<li>Write application code <div class="fragment"><div class="line">            await cache.Put(myKey, <span class="stringliteral">&quot;some value&quot;</span>);</div>
<div class="line">            <span class="keywordtype">string</span> result = await cache.Get(myKey);</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;Getting my entry with key {0} from the cache. Result value is: {1}&quot;</span>, myKey, result);</div>
</div><!-- fragment --></li>
</ol>
<p >A full working example with a basic put/get session: </p><div class="fragment"><div class="line"><span class="keyword">using</span> System;</div>
<div class="line"><span class="keyword">using</span> System.Threading.Tasks;</div>
<div class="line"><span class="keyword">using</span> <a class="code hl_namespace" href="namespace_infinispan.html">Infinispan</a>.<a class="code hl_namespace" href="namespace_infinispan_1_1_hotrod.html">Hotrod</a>.<a class="code hl_namespace" href="namespace_infinispan_1_1_hotrod_1_1_core.html">Core</a>;</div>
<div class="line"><span class="keyword">namespace </span>Infinispan.Hotrod.Application</div>
<div class="line">{</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">class </span>Program</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">static</span> async Task Main(<span class="keywordtype">string</span>[] args)</div>
<div class="line">        {</div>
<div class="line">            var myKey = <span class="stringliteral">&quot;myKey&quot;</span>;</div>
<div class="line">            <a class="code hl_class" href="class_infinispan_1_1_hotrod_1_1_core_1_1_infinispan_d_g.html">InfinispanDG</a> dg = <span class="keyword">new</span> <a class="code hl_class" href="class_infinispan_1_1_hotrod_1_1_core_1_1_infinispan_d_g.html">InfinispanDG</a>();</div>
<div class="line">            <span class="comment">// Use a non-authenticated non-encrypted cluster;</span></div>
<div class="line">            dg.<a class="code hl_function" href="class_infinispan_1_1_hotrod_1_1_core_1_1_infinispan_d_g.html#ae188b34c84c6cff2d4ba6dbbcaf97db1">AddHost</a>(<span class="stringliteral">&quot;127.0.0.1&quot;</span>, 11222);</div>
<div class="line">            var cache = dg.NewCache&lt;string, <span class="keywordtype">string</span>&gt;(<span class="keyword">new</span> <a class="code hl_class" href="class_infinispan_1_1_hotrod_1_1_core_1_1_string_marshaller.html">StringMarshaller</a>(), <span class="keyword">new</span> <a class="code hl_class" href="class_infinispan_1_1_hotrod_1_1_core_1_1_string_marshaller.html">StringMarshaller</a>(), <span class="stringliteral">&quot;default&quot;</span>);</div>
<div class="line">            await cache.Put(myKey, <span class="stringliteral">&quot;some value&quot;</span>);</div>
<div class="line">            <span class="keywordtype">string</span> result = await cache.Get(myKey);</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;Getting my entry with key {0} from the cache. Result value is: {1}&quot;</span>, myKey, result);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="anamespace_infinispan_1_1_hotrod_1_1_core_html"><div class="ttname"><a href="namespace_infinispan_1_1_hotrod_1_1_core.html">Infinispan.Hotrod.Core</a></div><div class="ttdef"><b>Definition:</b> Cache.cs:9</div></div>
<div class="ttc" id="anamespace_infinispan_1_1_hotrod_html"><div class="ttname"><a href="namespace_infinispan_1_1_hotrod.html">Infinispan.Hotrod</a></div><div class="ttdef"><b>Definition:</b> Cache.cs:9</div></div>
<div class="ttc" id="anamespace_infinispan_html"><div class="ttname"><a href="namespace_infinispan.html">Infinispan</a></div><div class="ttdef"><b>Definition:</b> Cache.cs:9</div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md0"></a>
Cluster configuration</h2>
<p >The following are cluster wide settings. </p>
<h3><a class="anchor" id="autotoc_md1"></a>
Connection properties</h3>
<ul>
<li>enable disable TLS (<a class="el" href="class_infinispan_1_1_hotrod_1_1_core_1_1_infinispan_d_g.html#ae855aaf69554a3c0f1e17a8cf89a3681" title="Enable TLS communication">InfinispanDG.UseTLS</a>). With or without server cert verification (<a class="el" href="class_infinispan_1_1_hotrod_1_1_core_1_1_infinispan_d_g.html#a6fb93ee9ab66556bf0351f461454d852" title="Certification chain for server certificate verification. Leave it null for no verification.">InfinispanDG.CACert</a>).</li>
<li>enable disable authentication providing user/password and the SASL mechanism (<a class="el" href="class_infinispan_1_1_hotrod_1_1_core_1_1_infinispan_d_g.html#ae6d33bbe5c474b00fbbc8174b3631393" title="Username for the connection credentials">InfinispanDG.User</a>, <a class="el" href="class_infinispan_1_1_hotrod_1_1_core_1_1_infinispan_d_g.html#ab0b6d792d6938bd569e38faeb5dc310a" title="Password for the connection credentials">InfinispanDG.Password</a>, <a class="el" href="class_infinispan_1_1_hotrod_1_1_core_1_1_infinispan_d_g.html#a588a6c37ed489f885fae7293c3180da8" title="SASL authentication mechanism">InfinispanDG.AuthMech</a>). </li>
</ul>
<h3><a class="anchor" id="autotoc_md2"></a>
Cluster topology</h3>
<ul>
<li>add a node to the default cluster (<a class="el" href="class_infinispan_1_1_hotrod_1_1_core_1_1_infinispan_d_g.html#ae188b34c84c6cff2d4ba6dbbcaf97db1" title="Add a cluster node to the initial list of nodes for the DEFAULT_CLUSTER.">InfinispanDG.AddHost(string, int)</a>).</li>
<li>add a node to a specific cluster for failover configuration (<a class="el" href="class_infinispan_1_1_hotrod_1_1_core_1_1_infinispan_d_g.html#a2f6efd755af30fad8d500ac04669be2b" title="Add a cluster node to the initial list of nodes for the specified cluster. If applied to the active c...">InfinispanDG.AddHost(string, string, int)</a>). </li>
</ul>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
